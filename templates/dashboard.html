<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SRT Bank - Dashboard</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      background: #f0f4f8;
      font-family: Arial, sans-serif;
    }
    .navbar {
      background-color: #004080;
    }
    .navbar-brand, .nav-link {
      color: white !important;
      font-weight: 600;
    }
    .dashboard-header {
      margin-top: 30px;
      text-align: center;
    }
    .dashboard-header h2 {
      font-weight: bold;
      color: #004080;
    }
    .card-option {
      cursor: pointer;
      transition: transform 0.2s ease;
      border-radius: 12px;
      background: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .card-option:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    #content-section {
      margin-top: 30px;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    #chatbox {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 320px;
      height: 420px;
      border: 1px solid #ccc;
      background: white;
      display: none;
      flex-direction: column;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border-radius: 10px;
      z-index: 1000;
    }
    #chat-header {
      background: #004080;
      color: white;
      padding: 10px;
      font-weight: bold;
      border-radius: 10px 10px 0 0;
    }
    #chat-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      font-size: 14px;
    }
    #chat-input {
      display: flex;
    }
    #chat-input input {
      flex: 1;
      padding: 5px;
      border: none;
      outline: none;
    }
    #chat-input button {
      border: none;
      background: #004080;
      color: white;
      padding: 5px 10px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#">üè¶ SRT Bank</a>
      <div class="ms-auto">
        <a href="/logout" class="btn btn-danger">Logout</a>
      </div>
    </div>
  </nav>

  <!-- Dashboard -->
  <div class="container">
    <div class="dashboard-header">
      <h2>Welcome, {{ user }}</h2>
      <p class="text-muted">Your personalized banking dashboard</p>
    </div>

    <div class="row mt-4">
      <div class="col-md-3 mb-4">
        <div class="card card-option text-center p-3" onclick="showContent('balance')">
          <h5>üí∞ Balance</h5>
          <p>Check your account balance</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="card card-option text-center p-3" onclick="showContent('loans')">
          <h5>üè¶ Loans</h5>
          <p>View loan details</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="card card-option text-center p-3" onclick="showContent('cards')">
          <h5>üí≥ Cards</h5>
          <p>Manage your debit/credit cards</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="card card-option text-center p-3" onclick="showContent('transactions')">
          <h5>üìà Transactions</h5>
          <p>View your recent transactions</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="card card-option text-center p-3" onclick="toggleChat()">
          <h5>ü§ñ Chatbot</h5>
          <p>Get instant help</p>
        </div>
      </div>
    </div>

    <!-- Dynamic content -->
    <div id="content-section">
      <h4>‚Ñπ Select an option above to view details.</h4>
    </div>
  </div>

  <!-- Chatbot -->
  <div id="chatbox">
    <div id="chat-header">
      BankBot AI 
      <button onclick="toggleChat()" style="float:right; border:none; background:transparent; color:white;">‚úñ</button>
    </div>
    <div id="chat-messages"></div>
    <div id="chat-input">
      <input type="text" id="userInput" placeholder="Type your message...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script>
    function toggleChat() {
      let chatbox = document.getElementById("chatbox");
      chatbox.style.display = (chatbox.style.display === "flex") ? "none" : "flex";
    }

    function sendMessage() {
      let input = document.getElementById("userInput");
      let message = input.value;
      if (message.trim() === "") return;

      let chatMessages = document.getElementById("chat-messages");
      chatMessages.innerHTML += "<div><b>You:</b> " + message + "</div>";
      input.value = "";

      // Temporary AI reply
      let reply = "This is a placeholder reply. AI will be added later.";
      chatMessages.innerHTML += "<div><b>Bot:</b> " + reply + "</div>";
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function showContent(type) {
      let content = "";
      switch(type) {
        case "balance":
          content = "<h4>üí∞ Account Balance</h4><p>Your current balance is: <b>‚Çπ75,000</b></p>";
          break;
        case "loans":
          content = "<h4>üè¶ Loan Details</h4><p>You have an active <b>Home Loan</b> of ‚Çπ12,00,000 at 8% interest.</p>";
          break;
        case "cards":
          content = "<h4>üí≥ Cards</h4><ul><li>Debit Card (Active)</li><li>Credit Card (Limit: ‚Çπ1,00,000)</li></ul>";
          break;
        case "transactions":
          content = `<h4>üìà Recent Transactions</h4>
                     <table class="table table-striped">
                       <tr><th>Date</th><th>Description</th><th>Amount</th></tr>
                       <tr><td>12 Aug</td><td>Amazon Purchase</td><td>- ‚Çπ2,499</td></tr>
                       <tr><td>10 Aug</td><td>Zomato</td><td>- ‚Çπ650</td></tr>
                       <tr><td>01 Aug</td><td>Salary Credit</td><td>+ ‚Çπ50,000</td></tr>
                     </table>`;
          break;
        default:
          content = "<h4>‚Ñπ Select an option above to view details.</h4>";
      }
      document.getElementById("content-section").innerHTML = content;
    }
  </script>
</body>
</html>
